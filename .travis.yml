osx_image: xcode7.1
language: objective-c
cache:
  directories:
  - node_modules/
  - SlackerReferenceApp/node_modules
  - /usr/local/lib/node_modules/cordova
  - /usr/local/lib/node_modules/bower

global:
before_install:
- echo "Before install stage"
- sudo easy_install cpp-coveralls
- brew update
- brew upgrade node
- brew install gcovr
- node -v
- echo "END - Before install stage"
install:
- echo "Install stage"
- sudo npm install -g bower
- sudo npm install -g cordova
- echo "END - install stage"
before_script:
- echo "Before script stage"
- fastlane cordova
script:
- echo "Starting build"
- fastlane build
after_success:
- echo "Build success"
- fastlane deploy
after_failure:
- echo "After failure stage"
after_script:
- echo "After script stage"

env:
  global:
  - secure: azG8aU5ZXHDT2WO/ZOs0fbELpwnLdZ6m94frt2bR5TnrMKfbETQMkQRZiKQD4WyY73TwDjo3dBTiuVHXCRdTm4OhwM2tmQvSrhRCPrLiJfwipncUizI4nl6vH3wVjR5tRmZO6UzPpM9yGHJ0kr51gdDiI8eu2T8bBRN04BG24S2p2EuqeYSkKknbmd7sS/atJ+p4Ju+L+QjonwqwUrviz1722uJwRNSJuQiF2IOGDtj4eXZP7IFSaDbDRcwYEweD1Q6XGoSuRWvEtkYWXrp9uyGmE9bTdJrZuYzHN9/3dT0EC1VOwVeqWQmf/70WxoxMSGFAKpeQXCzYxyOoYxT86QBQofvPXQrhu//WYKeKYeFcgiwUxHLfL+9TI02pI6qQxFK/3cqDPjsjLx0weYC+lsQetqUU3bha0cCjtDk4GsTFzrji9F7O9Go3yteRWmXTcse6LMcJKa+Ba5EBJIM07qYZJfwiOeRiewe+l20eXBYoaasg9gyYaosHTE4imHhSzN/J/fGRq/Edfmg8ciwtVf2MvYQhjD9A8xQC3iGbsKuzxC+5HGUDgLoV/ghjlXmU+xeIgY9r1EBcSLAgdv+YsZvFXLhk3Uo5TibL4dW93nYyUuKJLAQ4mkmPUMcF8GKp7N7VkquyB6Ws7iGcq+4HJi7vmqI4jNw1kUOqQr+6Cvk=
  - secure: AkLlTDV8ubDrS1moLyaoEIpdX3TijxigorsMucGtHasg9hnHKUOjQHzFK5shf+e4Ndjj6EGNehO4GJ0Ce7U8Q9RiRFfXS9SNBgGwaiLdJZDoOQ0sUr4DuSgHxuCAZopMZpIpluU7HQpf+NRMDZ+uA1Sm75sTk76LP4bTkCjETQotk0vTBpA4T53c7ZTbWBfxNwz41M+mE6CBsC3P7PTG4g3Gg1/ejrpR4Py6PuMIgbiUiZqFfTkIARXynfsGfP4v/bsn4Kh3D3HaEWjQY6jL+Aeihon6PLp4j7WYnaHneWAfh3WRNXEPSEa7d/1taXYkky3oyvH8YPqiUo/BSDYdQgSBS7VMKwCqNYN0kOIgLuKsnvhmCnIDU0xbZiWSuhhQKq409FBYz+Lp7w4ow6jTAgDBGMejABhJCjqDeFxTyakf/qVF/nqlkr7KBLx18DzJwDf4BMfufR2fO4ZPTWx8mQewNKNU3Sqq15A2Z+znoVda3SdR21eE1rqvzWm8Pj3ySNOh4Tn2oIeDgGWaJWTxpFDBZujDzDd/SPIOneEAVOn6Cuazxm74q2X1uypEm36f2vw267rqxeTP2ajspt9BQFVfikHem04ggQjco7fYdg+vFcydGTqdfy7uZaufv5FFMFxbDyzaR2dOu+8Mv10MzQWxOVtsD84D2rSsDrlbVko=
